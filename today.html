<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>

  <script>
    (async () => {
      // -------------------------------
      // ✅ 今日の日付を取得
      // -------------------------------
      const today = new Date();
      const yyyy = today.getFullYear();
      const mm = String(today.getMonth() + 1).padStart(2, '0');
      const dd = String(today.getDate()).padStart(2, '0');

      // -------------------------------
      // ✅ 対象ファイルパスを生成
      // 例: 2025/12-07.html
      // -------------------------------
      const dateStr = `${mm}-${dd}`;
      const targetURL = `${yyyy}/${dateStr}.html`;

      try {
        // -------------------------------
        // ✅ ファイル存在チェック（HEADリクエスト）
        // -------------------------------
        const response = await fetch(targetURL, { method: 'HEAD' });

        if (response.ok) {
          // ファイルが存在する → そのページへ遷移
          location.href = targetURL;
        } else {
          // ファイルが存在しない → pending.html へ
          location.href = "pending.html";
        }
      } catch (error) {
        // 通信エラー時も pending.html へ
        console.error("Error checking file:", error);
        location.href = "pending.html";
      }
    })();
  </script>
</head>

<body>
  <p>Redirecting to today's article...</p>
</body>
</html>
