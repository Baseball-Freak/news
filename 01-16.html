<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>記事自動日付チェック</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }
    #article-date {
      display: none; /* 内部管理用。表示不要 */
    }
    .content {
      margin-top: 1em;
    }
    .notice {
      color: #999;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

  <!-- 記事日付（自動取得） -->
  <div id="article-date"></div>

  <!-- ▼ 記事ここから -->
  <div class="content">
    <p>【開始】</p>

    <h2>この記事の内容をここに入力してください。</h2>
    <p>これはサンプルです。</p>

    <p>【ここまで】</p>
  </div>
  <!-- ▲ 記事ここまで -->

  <script>
    // ファイル名から日付を自動取得（例: 12-06.html → 2025/12/06）
    const fileName = location.pathname.split("/").pop(); // 例: 12-06.html
    const [mm, dd] = fileName.replace(".html", "").split("-");
    const yyyy = new Date().getFullYear(); // フォルダに年情報がないため、当年を使用
    const articleDate = `${yyyy}/${mm}/${dd}`;
    document.getElementById("article-date").textContent = articleDate;

    // 当日を取得
    function getTodayString() {
      const today = new Date();
      return (
        today.getFullYear() + "/" +
        String(today.getMonth() + 1).padStart(2, "0") + "/" +
        String(today.getDate()).padStart(2, "0")
      );
    }

    // 判定関数
    function checkDate() {
      const todayString = getTodayString();
      if (articleDate !== todayString) {
        window.location.href = "blank.html";
      }
    }

    // 初回チェック
    checkDate();

    // 午前0時を監視して、日付が変わった瞬間に再チェック
    setInterval(() => {
      const now = new Date();
      if (now.getHours() === 0 && now.getMinutes() === 0 && now.getSeconds() === 0) {
        checkDate();
      }
    }, 1000);
  </script>
</body>
</html>
